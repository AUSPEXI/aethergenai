# husky pre-push hook
#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "Running IP Safety Guard..."
npm run --silent guard:ip || {
  echo "IP Safety Guard failed. Please redact sensitive terms before pushing.";
  exit 1;
}

exit 0

#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

npm run ip:check

# If running on Windows with PowerShell available, also run the PS safeguard
if command -v powershell.exe >/dev/null 2>&1; then
  powershell.exe -NoProfile -ExecutionPolicy Bypass -File scripts/prepush-ip-check.ps1 -StagedOnly
fi

